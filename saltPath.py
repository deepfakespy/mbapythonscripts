import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from sklearn.linear_model import LinearRegression

raw_json = {"Quarter":{"0":1,"1":2,"2":3,"3":4,"4":5,"5":6,"6":7,"7":8,"8":9,"9":10,"10":11,"11":12,"12":13,"13":14,"14":15,"15":16,"16":17,"17":18,"18":19,"19":20,"20":21,"21":22,"22":23,"23":24,"24":25,"25":26,"26":27,"27":28,"28":29,"29":30,"30":31,"31":32,"32":33,"33":34,"34":35,"35":36,"36":37,"37":38,"38":39,"39":40,"40":41,"41":42,"42":43,"43":44,"44":45,"45":46,"46":47,"47":48,"48":49,"49":50,"50":51,"51":52,"52":53,"53":54,"54":55,"55":56,"56":57,"57":58,"58":59,"59":60},"Sales":{"0":237.72,"1":233.86,"2":219.35,"3":314.6,"4":289.81,"5":298.34,"6":210.87,"7":173.45,"8":171.29,"9":190.11,"10":308.2,"11":324.04,"12":311.74,"13":139.71,"14":197.34,"15":201.21,"16":238.89,"17":311.67,"18":244.88,"19":149.23,"20":243.01,"21":317.16,"22":350.96,"23":217.04,"24":253.5,"25":289.87,"26":241.98,"27":280.89,"28":249.88,"29":163.98,"30":309.34,"31":394.34,"32":338.55,"33":194.5,"34":191.07,"35":291.15,"36":355.02,"37":283.2,"38":268.1,"39":147.41,"40":250.36,"41":291.28,"42":355.11,"43":293.88,"44":181.98,"45":243.17,"46":229.06,"47":228.84,"48":229.71,"49":228.96,"50":253.14,"51":269.49,"52":362.4,"53":344.24,"54":187.92,"55":165.07,"56":212.75,"57":181.28,"58":209.41,"59":327.36},"Prom":{"0":37.72,"1":54.04,"2":0.0,"3":0.0,"4":0.0,"5":78.38,"6":51.76,"7":9.65,"8":0.0,"9":20.96,"10":110.1,"11":121.84,"12":95.97,"13":10.63,"14":0.0,"15":0.0,"16":0.0,"17":34.72,"18":44.4,"19":0.0,"20":43.21,"21":95.15,"22":102.89,"23":28.51,"24":46.45,"25":80.11,"26":85.73,"27":97.46,"28":105.29,"29":0.0,"30":47.79,"31":73.27,"32":74.01,"33":0.0,"34":0.0,"35":74.32,"36":157.6,"37":123.95,"38":98.6,"39":0.0,"40":0.0,"41":59.59,"42":95.89,"43":113.23,"44":0.0,"45":0.0,"46":4.21,"47":0.0,"48":13.43,"49":61.16,"50":71.06,"51":74.6,"52":107.59,"53":147.27,"54":62.15,"55":0.0,"56":0.0,"57":0.0,"58":22.54,"59":84.94},"Adv":{"0":77.71,"1":90.0,"2":108.94,"3":140.18,"4":97.4,"5":52.98,"6":29.93,"7":14.58,"8":15.44,"9":75.21,"10":74.91,"11":80.19,"12":15.63,"13":79.61,"14":15.06,"15":8.63,"16":110.04,"17":121.91,"18":0.0,"19":39.67,"20":22.87,"21":134.28,"22":88.22,"23":98.81,"24":53.16,"25":104.43,"26":66.03,"27":30.84,"28":90.82,"29":112.79,"30":126.93,"31":124.79,"32":131.34,"33":50.54,"34":27.72,"35":60.84,"36":49.99,"37":23.51,"38":91.48,"39":68.78,"40":70.31,"41":114.11,"42":121.55,"43":59.56,"44":149.05,"45":93.27,"46":47.38,"47":64.52,"48":28.26,"49":24.56,"50":109.73,"51":111.39,"52":122.96,"53":53.81,"54":21.53,"55":34.53,"56":34.25,"57":13.61,"58":64.49,"59":74.21},"Index":{"0":100,"1":102,"2":104,"3":104,"4":104,"5":100,"6":98,"7":96,"8":98,"9":103,"10":105,"11":107,"12":107,"13":107,"14":108,"15":105,"16":103,"17":108,"18":110,"19":112,"20":113,"21":112,"22":113,"23":114,"24":114,"25":114,"26":116,"27":117,"28":117,"29":118,"30":117,"31":115,"32":115,"33":114,"34":115,"35":116,"36":116,"37":116,"38":115,"39":117,"40":116,"41":115,"42":116,"43":118,"44":118,"45":120,"46":120,"47":119,"48":121,"49":123,"50":123,"51":123,"52":124,"53":125,"54":126,"55":128,"56":127,"57":126,"58":126,"59":127},"TempDev":{"0":-0.24,"1":1.02,"2":2.24,"3":-0.69,"4":0.46,"5":-0.76,"6":-0.59,"7":-0.4,"8":-0.09,"9":0.23,"10":-0.59,"11":0.73,"12":-0.46,"13":0.0,"14":-0.83,"15":0.33,"16":0.27,"17":1.33,"18":2.72,"19":0.22,"20":-0.15,"21":0.42,"22":2.01,"23":0.26,"24":-0.04,"25":-1.1,"26":-1.77,"27":0.47,"28":0.13,"29":-0.15,"30":1.54,"31":-1.2,"32":0.22,"33":0.68,"34":1.77,"35":0.66,"36":-0.24,"37":0.46,"38":0.59,"39":0.4,"40":0.09,"41":-0.53,"42":-1.5,"43":0.15,"44":-0.2,"45":0.34,"46":-1.89,"47":-0.66,"48":0.31,"49":-0.15,"50":-1.18,"51":0.07,"52":-0.27,"53":0.3,"54":-1.54,"55":0.11,"56":-0.36,"57":-0.49,"58":-1.3,"59":0.66},"Q1":{"0":1,"1":0,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":1,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":1,"57":0,"58":0,"59":0},"Q2":{"0":0,"1":1,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":1,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0},"Q3":{"0":0,"1":0,"2":1,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":1,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0,"50":1,"51":0,"52":0,"53":0,"54":1,"55":0,"56":0,"57":0,"58":1,"59":0},"Q4":{"0":0,"1":0,"2":0,"3":1,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":1,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":1,"52":0,"53":0,"54":0,"55":1,"56":0,"57":0,"58":0,"59":1}}

data = pd.DataFrame.from_dict(raw_json)

regressor = LinearRegression()

regressor.fit(data['Sales'].values.reshape(-1, 1), data['Index'].values.reshape(-1, 1))
plt.scatter(data['Sales'].values, data['Index'].values, color = 'red')
plt.plot(data['Sales'].values.reshape(-1, 1), regressor.predict(data['Sales'].values.reshape(-1, 1)), color = 'blue')
plt.xlabel('Sales')
plt.ylabel('Economic Index')
plt.show()